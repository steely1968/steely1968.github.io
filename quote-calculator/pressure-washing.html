<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pressure Washing Calculator</title>

<style>
body {
background: #f5f5f5;
font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
}

.calculator {
max-width: 420px;
margin: 30px auto;
padding: 25px;
background: #fff;
border: 2px solid #000;
border-radius: 10px;
}

.calculator h2 {
text-align: center;
margin-bottom: 20px;
font-size: 22px;
}

.service {
margin-bottom: 18px;
}

.service label {
display: block;
font-size: 14px;
margin-bottom: 6px;
}

.service label span {
font-size: 12px;
opacity: 0.6;
}

.service input {
width: 100%;
padding: 8px;
border: 2px solid #000;
border-radius: 6px;
text-align: right;
}

.service input:focus {
outline: none;
background: #000;
color: #fff;
}

.pair {
display: flex;
gap: 8px;
}

.pair input {
flex: 1;
}

.subtotal {
margin-top: 4px;
font-size: 13px;
opacity: 0.7;
text-align: right;
}

.total {
margin-top: 20px;
padding: 14px;
border: 2px solid #000;
text-align: center;
font-size: 18px;
font-weight: bold;
background: #fafafa;
}

/* Mobile */
@media (max-width: 480px) {
.pair {
flex-direction: column;
}
}

input:invalid {
border-color: red;
background: #ffe6e6;
}
</style>
</head>

<body>

<div class="calculator">
<h2>Pressure Washing Calculator</h2>

<div class="service">
<label>Driveway <span>£3 / m²</span></label>
<div class="pair">
<input type="number" id="drivewayLength" placeholder="Length (m)" min="0" oninput="calculateTotal()">
<input type="number" id="drivewayWidth" placeholder="Width (m)" min="0" oninput="calculateTotal()">
</div>
<div class="subtotal" id="drivewaySubtotal">Subtotal: £0.00</div>
</div>

<div class="service">
<label>Roof <span>£5 / m²</span></label>
<input type="number" id="roof" placeholder="Total m²" min="0" oninput="calculateTotal()">
<div class="subtotal" id="roofSubtotal">Subtotal: £0.00</div>
</div>

<div class="service">
<label>Patio <span>£3.50 / m²</span></label>
<div class="pair">
<input type="number" id="patioLength" placeholder="Length (m)" min="0" oninput="calculateTotal()">
<input type="number" id="patioWidth" placeholder="Width (m)" min="0" oninput="calculateTotal()">
</div>
<div class="subtotal" id="patioSubtotal">Subtotal: £0.00</div>
</div>

<div class="service">
<label>Walls <span>£4 / m²</span></label>
<div class="pair">
<input type="number" id="wallsLength" placeholder="Length (m)" min="0" oninput="calculateTotal()">
<input type="number" id="wallsHeight" placeholder="Height (m)" min="0" oninput="calculateTotal()">
</div>
<div class="subtotal" id="wallsSubtotal">Subtotal: £0.00</div>
</div>

<div class="service">
<label>Conservatory Roof <span>£6 / m²</span></label>
<input type="number" id="conservatory" placeholder="Total m²" min="0" oninput="calculateTotal()">
<div class="subtotal" id="conservatorySubtotal">Subtotal: £0.00</div>
</div>

<div class="service">
<label>Fence <span>£2.50 / m²</span></label>
<div class="pair">
<input type="number" id="fenceLength" placeholder="Length (m)" min="0" oninput="calculateTotal()">
<input type="number" id="fenceHeight" placeholder="Height (m)" min="0" oninput="calculateTotal()">
</div>
<div class="subtotal" id="fenceSubtotal">Subtotal: £0.00</div>
</div>

<div class="total" id="total">Enter measurements to see price</div>
</div>

<script>
function calculateTotal() {
const minimumFee = 45;
let total = 0;

// Get all inputs
const inputs = {
drivewayLength: document.getElementById("drivewayLength"),
drivewayWidth: document.getElementById("drivewayWidth"),
roof: document.getElementById("roof"),
patioLength: document.getElementById("patioLength"),
patioWidth: document.getElementById("patioWidth"),
wallsLength: document.getElementById("wallsLength"),
wallsHeight: document.getElementById("wallsHeight"),
conservatory: document.getElementById("conservatory"),
fenceLength: document.getElementById("fenceLength"),
fenceHeight: document.getElementById("fenceHeight"),
};

// Helper to safely get a positive number
const val = (el) => Math.max(0, Number(el.value) || 0);

// Per-service calculations
const drivewayTotal = val(inputs.drivewayLength) * val(inputs.drivewayWidth) * 3;
const roofTotal = val(inputs.roof) * 5;
const patioTotal = val(inputs.patioLength) * val(inputs.patioWidth) * 3.5;
const wallsTotal = val(inputs.wallsLength) * val(inputs.wallsHeight) * 4;
const conservatoryTotal = val(inputs.conservatory) * 6;
const fenceTotal = val(inputs.fenceLength) * val(inputs.fenceHeight) * 2.5;

// Update subtotals
document.getElementById("drivewaySubtotal").innerText = `Subtotal: £${drivewayTotal.toLocaleString('en-GB', {minimumFractionDigits:2})}`;
document.getElementById("roofSubtotal").innerText = `Subtotal: £${roofTotal.toLocaleString('en-GB', {minimumFractionDigits:2})}`;
document.getElementById("patioSubtotal").innerText = `Subtotal: £${patioTotal.toLocaleString('en-GB', {minimumFractionDigits:2})}`;
document.getElementById("wallsSubtotal").innerText = `Subtotal: £${wallsTotal.toLocaleString('en-GB', {minimumFractionDigits:2})}`;
document.getElementById("conservatorySubtotal").innerText = `Subtotal: £${conservatoryTotal.toLocaleString('en-GB', {minimumFractionDigits:2})}`;
document.getElementById("fenceSubtotal").innerText = `Subtotal: £${fenceTotal.toLocaleString('en-GB', {minimumFractionDigits:2})}`;

// Total
total = drivewayTotal + roofTotal + patioTotal + wallsTotal + conservatoryTotal + fenceTotal;

const totalEl = document.getElementById("total");

if (total === 0) {
totalEl.innerText = "Enter measurements to see price";
return;
}

const finalTotal = total < minimumFee ? minimumFee : total;

totalEl.innerText = total < minimumFee
? `Total: £${finalTotal.toLocaleString('en-GB', {minimumFractionDigits:2})} (minimum charge)`
: `Total: £${finalTotal.toLocaleString('en-GB', {minimumFractionDigits:2})}`;
}
</script>

</body>
</html>
